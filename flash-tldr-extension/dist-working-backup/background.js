(()=>{"use strict";chrome.runtime.onInstalled.addListener(e=>{"install"===e.reason&&(chrome.storage.sync.set({flash_tldr_settings:{apiKey:"",tone:"neutral",length:"medium",autoDetectLanguage:!0,showOverlay:!0}}),chrome.runtime.openOptionsPage())}),chrome.commands.onCommand.addListener(e=>{"summarize"===e&&chrome.tabs.query({active:!0,currentWindow:!0},e=>{e[0]?.id&&chrome.tabs.sendMessage(e[0].id,{action:"summarize"})})}),chrome.action.onClicked.addListener(e=>{}),chrome.runtime.onMessage.addListener((e,a,n)=>{"logUsage"===e.action&&console.log("Usage logged:",e.data)})})();